{"version":3,"sources":["components/Navbar/Navbar.tsx","api.ts","components/Loader/Loader.tsx","components/PersonLink/PersonLink.tsx","pages/PeoplePage/PeoplePage.tsx","pages/HomePage/HomePage.tsx","pages/PageNotFound/PageNotFound.tsx","App.tsx","index.tsx"],"names":["Navbar","getLinkClass","_ref","isActive","classNames","_jsx","className","role","children","_jsxs","NavLink","to","getPeople","delay","Promise","resolve","setTimeout","then","fetch","response","json","Loader","PersonLink","person","people","selectedPerson","useParams","slug","isMotherName","find","woman","name","motherName","isFatherName","man","fatherName","Link","concat","sex","born","died","PeoplePage","_useState","useState","_useState2","_slicedToArray","setPeople","_useState3","_useState4","isLoaded","setIsLoaded","_useState5","_useState6","errorMessage","setErrorMessage","showTable","length","showNoPeopleMessage","showErrorMessage","useEffect","catch","finally","map","HomePage","PageNotFound","App","Routes","Route","path","index","element","Navigate","replace","createRoot","document","getElementById","render","Router"],"mappings":"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","file":"static/js/main.51b66d1a.chunk.js","sourcesContent":["import classNames from 'classnames';\nimport { NavLink } from 'react-router-dom';\n\nexport const Navbar = () => {\n  const getLinkClass = ({ isActive }: { isActive: boolean }) => {\n    return classNames('navbar-item', {\n      'has-background-grey-lighter': isActive,\n    });\n  };\n\n  return (\n    <nav\n      data-cy=\"nav\"\n      className=\"navbar is-fixed-top has-shadow\"\n      role=\"navigation\"\n      aria-label=\"main navigation\"\n    >\n      <div className=\"container\">\n        <div className=\"navbar-brand\">\n          <NavLink to=\"/\" className={getLinkClass}>\n            Home\n          </NavLink>\n\n          <NavLink\n            to=\"/people\"\n            className={getLinkClass}\n          >\n            People\n          </NavLink>\n        </div>\n      </div>\n    </nav>\n  );\n};\n","import { Person } from './types/Person';\n\n// eslint-disable-next-line max-len\nconst API_URL = 'https://mate-academy.github.io/react_people-table/api/people.json';\n\nfunction wait(delay: number) {\n  return new Promise(resolve => setTimeout(resolve, delay));\n}\n\nexport function getPeople(): Promise<Person[]> {\n  // keep this delay for testing purpose\n  return wait(500)\n    .then(() => fetch(API_URL))\n    .then(response => response.json());\n}\n","import './Loader.scss';\n\nexport const Loader = () => (\n  <div className=\"Loader\" data-cy=\"loader\">\n    <div className=\"Loader__content\" />\n  </div>\n);\n","import React from 'react';\nimport { Link, useParams } from 'react-router-dom';\nimport classNames from 'classnames';\nimport { Person } from '../../types/Person';\n\ntype Props = {\n  person: Person;\n  people: Person[];\n};\n\nexport const PersonLink: React.FC<Props> = ({ person, people }) => {\n  const { slug } = useParams();\n  const selectedPerson = slug || '';\n\n  const isMotherName = people.find((woman) => woman.name === person.motherName);\n  const isFatherName = people.find((man) => man.name === person.fatherName);\n\n  return (\n    <tr\n      data-cy=\"person\"\n      className={classNames({\n        'has-background-warning': person.slug === selectedPerson,\n      })}\n    >\n      <td>\n        <Link\n          to={`/people/${person.slug}`}\n          className={classNames({\n            'has-text-danger': person.sex === 'f',\n          })}\n        >\n          {person.name}\n        </Link>\n      </td>\n\n      <td>{person.sex}</td>\n      <td>{person.born}</td>\n      <td>{person.died}</td>\n      <td>\n        {isMotherName && (\n          <Link\n            to={`/people/${isMotherName.slug || 0}`}\n            className=\"has-text-danger\"\n          >\n            {person.motherName}\n          </Link>\n        )}\n        {!isMotherName && (person.motherName || '-')}\n      </td>\n      <td>\n        {isFatherName && (\n          <Link to={`/people/${isFatherName.slug || 0}`}>\n            {person.fatherName}\n          </Link>\n        )}\n        {!isFatherName && (person.fatherName || '-')}\n      </td>\n    </tr>\n  );\n};\n","import React, { useEffect, useState } from 'react';\nimport { Person } from '../../types';\nimport { getPeople } from '../../api';\nimport { Loader } from '../../components/Loader';\nimport { PersonLink } from '../../components/PersonLink';\n\nexport const PeoplePage: React.FC = () => {\n  const [people, setPeople] = useState<Person[]>([]);\n  const [isLoaded, setIsLoaded] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(false);\n\n  const showTable = people.length === 0 && !isLoaded;\n  const showNoPeopleMessage = isLoaded && !errorMessage && people.length === 0;\n  const showErrorMessage = errorMessage && people.length === 0;\n\n  function getPeopleFromServer() {\n    return getPeople()\n      .then(setPeople)\n      .catch(() => setErrorMessage(true))\n      .finally(() => setIsLoaded(true));\n  }\n\n  useEffect(() => {\n    getPeopleFromServer();\n  }, []);\n\n  return (\n    <main className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">People Page</h1>\n        <div className=\"block\">\n          <div className=\"box table-container\">\n            {showTable && <Loader />}\n            {people.length > 0 && (\n              <table\n                data-cy=\"peopleTable\"\n                className=\"table is-striped is-hoverable is-narrow is-fullwidth\"\n              >\n                <thead>\n                  <tr>\n                    <th>Name</th>\n                    <th>Sex</th>\n                    <th>Born</th>\n                    <th>Died</th>\n                    <th>Mother</th>\n                    <th>Father</th>\n                  </tr>\n                </thead>\n\n                <tbody>\n                  {people.map((person) => (\n                    <PersonLink\n                      people={people}\n                      person={person}\n                      key={person.slug}\n                    />\n                  ))}\n                </tbody>\n              </table>\n            )}\n            {showNoPeopleMessage && (\n              <p data-cy=\"noPeopleMessage\">\n                There are no people on the server\n              </p>\n            )}\n            {showErrorMessage && (\n              <p data-cy=\"peopleLoadingError\" className=\"has-text-danger\">\n                Something went wrong\n              </p>\n            )}\n          </div>\n        </div>\n      </div>\n    </main>\n  );\n};\n","export const HomePage = () => {\n  return (\n    <div className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">Home Page</h1>\n      </div>\n    </div>\n  );\n};\n","export const PageNotFound = () => {\n  return (\n    <div className=\"section\">\n      <div className=\"container\">\n        <h1 className=\"title\">Page not found</h1>\n      </div>\n    </div>\n  );\n};\n","import './App.scss';\nimport { Navigate, Route, Routes } from 'react-router-dom';\nimport { Navbar } from './components/Navbar';\nimport { PeoplePage } from './pages/PeoplePage';\nimport { HomePage } from './pages/HomePage';\nimport { PageNotFound } from './pages/PageNotFound';\n\nexport const App = () => {\n  return (\n    <div data-cy=\"app\">\n      <Navbar />\n      <Routes>\n        <Route path=\"/\" />\n        <Route index element={<HomePage />} />\n        <Route path=\"/people/:slug?\" element={<PeoplePage />} />\n        <Route path=\"/home\" element={<Navigate to=\"/\" replace />} />\n        <Route path=\"*\" element={<PageNotFound />} />\n      </Routes>\n    </div>\n  );\n};\n","import { createRoot } from 'react-dom/client';\nimport { HashRouter as Router } from 'react-router-dom';\n\nimport 'bulma/css/bulma.css';\nimport '@fortawesome/fontawesome-free/css/all.css';\n\nimport { App } from './App';\n\ncreateRoot(document.getElementById('root') as HTMLDivElement)\n  .render(\n    <Router>\n      <App />\n    </Router>,\n  );\n"],"sourceRoot":""}